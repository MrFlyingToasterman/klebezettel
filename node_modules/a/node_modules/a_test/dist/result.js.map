{"version":3,"sources":["../src/result.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;IAEqB,M;AAEjB,sBACmB;AAAA,YADP,QACO;AAAA,YAAf,EAAe,yDAAV,kBAAU;;AAAA;;AACf,aAAK,SAAL,GAAiB,QAAjB;AACA,aAAK,GAAL,GAAW,EAAX;AACH;;;;8BAEK,S,EAAW,e,EAAiB;AAC9B,iBAAK,UAAL,GAAkB,SAAlB;AACA,iBAAK,gBAAL,GAAwB,eAAxB;AACH;;;2BAUE,K,EAAO;AACN,gBAAI;AACA,qBAAK,gBAAL,CAAsB,WAAtB;AACA,qBAAK,SAAL,CAAe,KAAf,CAAqB,KAAK,UAA1B;AACA,uBAAO,KAAK,GAAL,CAAS,SAAT,CAAmB,KAAnB,CAAP;AAEH,aALD,CAKE,OAAO,CAAP,EAAU;AACR,qBAAK,SAAL,CAAe,iBAAf,CAAiC,KAAK,UAAtC,EAAkD,CAAlD;AACA,uBAAO,KAAK,GAAL,CAAS,cAAT,CAAwB,KAAxB,CAAP;AACH;AACJ;;;6BAEI,Q,EAAU;AAAA;;AACX,mBAAO,KAAK,gBAAL,CACF,OADE,GAEF,IAFE,CAEG;AAAA,uBAAU,MAAK,GAAL,CAAS,MAAT,CAAV;AAAA,aAFH,EAE+B;AAAA,uBAAK,MAAK,KAAL,CAAW,CAAX,CAAL;AAAA,aAF/B,EAGF,IAHE,CAGG,kBAAU;AACxB,sBAAK,SAAL,CAAe,KAAf,CAAqB,MAAK,UAA1B;AACY,uBAAO,SAAS,MAAT,CAAP;AACH,aANE,EAOF,IAPE,CAOG,IAPH,EAOS;AAAA,uBAAK,MAAK,SAAL,CAAe,CAAf,CAAL;AAAA,aAPT,CAAP;AAQH;;;8BAEK;AACF,mBAAO,KAAK,GAAL,CAAS,SAAhB;AACH;;;8BAEK,C,EAAG;AACL,iBAAK,SAAL,CAAe,iBAAf,CAAiC,KAAK,UAAtC,EAAkD,CAAlD;AACA,mBAAO,KAAK,GAAL,CAAS,cAAhB;AACH;;;kCAES,C,EAAG;AACT,iBAAK,SAAL,CAAe,gBAAf,CAAgC,KAAK,UAArC,EAAiD,CAAjD;AACH;;;4BA1Ce;AACZ,mBAAO,KAAK,UAAZ;AACH;;;4BAEqB;AAClB,mBAAO,KAAK,gBAAZ;AACH;;;;;;kBAnBgB,M","file":"result.js","sourcesContent":["import realReporter from './reporter';\nimport It from './it';\n\nexport default class Result {\n\n    constructor(reporter = realReporter,\n        it = new It()) {\n        this._reporter = reporter;\n        this._it = it;\n    }\n\n    setup(suiteName, arrangeActChain) {\n        this._suiteName = suiteName;\n        this._arrangeActChain = arrangeActChain;\n    }\n\n    get suiteName() {\n        return this._suiteName;\n    }\n\n    get arrangeActChain() {\n        return this._arrangeActChain;\n    }\n\n    it(title) {\n        try {\n            this._arrangeActChain.executeSync()\n            this._reporter.suite(this._suiteName);\n            return this._it.regularIt(title);\n\n        } catch (e) {\n            this._reporter.inconclusiveSuite(this._suiteName, e);\n            return this._it.inconclusiveIt(title);\n        }\n    }\n\n    then(callback) {\n        return this._arrangeActChain\n            .execute()\n            .then(result => this._ok(result), e => this._fail(e))\n            .then(result => {\n\t\t\t\tthis._reporter.suite(this._suiteName);\n                return callback(result);\n            })\n            .then(null, e => this._logError(e));\n    }\n\n    _ok() {\n        return this._it.regularIt;\n    }\n\n    _fail(e) {\n        this._reporter.inconclusiveSuite(this._suiteName, e);\n        return this._it.inconclusiveIt;\n    }\n\n    _logError(e) {\n        this._reporter.notRunnableSuite(this._suiteName, e);\n    }\n}\n"]}